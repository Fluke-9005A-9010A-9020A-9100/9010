! Z80 MEMORY MAPPING PROGRAM
! CHECKS PROBE TIP EVERY 1000 HEX
INCLUDE "Z80.POD"
SETUP   
TRAP ACTIVE FORCE LINE NO   
TRAP ACTIVE INTERRUPT NO
PROGRAM MAIN
! Choose sync data or address here!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!   
SYNC ADDRESS
!  SYNC ATA
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!      
REGF = 0000
1: LABEL 1  
READ @ REGF  
READ PROBE  
IF REG0 AND 4000000 > 1 GOTO 2  
GOTO 3      
WRITE @REGF=0   
READ PROBE   
IF REG0 AND 4000000 > 1 GOTO 2   
GOTO 3
2: LABEL 2   
DPY-#$F   
STOP   
GOTO 3
!ADDRESS INCREMENTING 16 SHR AND 16 SHL == 1000 HEX
3: LABEL 3   
SHR REGF   
SHR REGF   
SHR REGF   
SHR REGF
SHR REGF
SHR REGF      
SHR REGF
SHR REGF
INC REGF
SHL REGF
SHL REGF
SHL REGF
SHL REGF
SHL REGF   
SHL REGF   
SHL REGF   
SHL REGF   
DPY-$F   
IF REGF > 1FFFF GOTO 4   
GOTO 1
4: LABEL 4   
DPY-#   
DPY-OUT OF ADD
