! Test routine for Atari Pole Position/ Pole II
INCLUDE "Z80.POD"
SETUP BEEP ON ERR 
TRANSITION  YES   
EXERCISE ERRORS         YES   
TRAP ACTIVE FORCE LINE   
NOPROGRAM main
DPY-#JUMPER WDIS TO GROUND
STOP
DPY-#DISABLING Z8002 PROCESSORS
WRITE @ A004=00
WRITE @ A005=00
EX delay
DPY-#BUS TEST
BUS
DPY-#RAM TESTS
EX delay
DPY-#BATTERY BACKED RAM 7EEX BAT
RAM
DPY-#MOTION OBJECT MEMORY
EX MOTRAM
DPY-#ROAD MEMORY
EX ROADRAM
DPY-#ALPHANUMERIC MEMORY
EX ALPHARAM
DPY-#SOUND MEMORY 7J 7K
EX SOUNDRAM
DPY-#ATTEMPTING TO RUN BOARD
RUN UUT
EX delay
DPY-#ALL TESTS COMPLETED
STOP
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! delay PROGRAMPROGRAM delayREG1=400: label 0DEC REG1IF REG1 > 0 GOTO 0!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!PROGRAM BATRAMWRITE @203000 = 0WRITE @2037FF = 11WAITLOOP:   READ @REGF   IF REGE = B0 GOTO WAITLOOP   IF REGE = B1 GOTO WAITLOOP   IF REGE = B2 GOTO WAITLOOP   IF REGE = F0 GOTO BADRAM   IF REGE
= F1 GOTO BADRAM   IF REGE = F2 GOTO BADRAMGOODRAM:   DPY-#BATTERY BACKED RAM OK   EX DELAY   GOTO RAMEXITBADRAM:   RAM LONG @3000-37FFRAMEXIT:   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!PROGRAM MOTRAMWRI
E @204400 = 0WRITE @2047FF = 11WAITLOOP:   READ @REGF   IF REGE = B0 GOTO WAITLOOP   IF REGE = B1 GOTO WAITLOOP   IF REGE = B2 GOTO WAITLOOP   IF REGE = F0 GOTO BADRAM   IF REGE = F1 GOTO BADRAM   IF REGE = F2 GOTO BADRAMGOODRAM:   DPY-#MOT
ON OBJECT RAM OK   EX DELAY   GOTO RAMEXITBADRAM:   RAM LONG @4400-47FFRAMEXIT:   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!PROGRAM ROADRAMWRITE @204800 = 0WRITE @2048FF = 11WAITLOOP:   READ @REGF   IF REG
 = B0 GOTO WAITLOOP   IF REGE = B1 GOTO WAITLOOP   IF REGE = B2 GOTO WAITLOOP   IF REGE = F0 GOTO BADRAM   IF REGE = F1 GOTO BADRAM   IF REGE = F2 GOTO BADRAMGOODRAM:   DPY-#ROAD RAM OK   EX DELAY   GOTO RAMEXITBADRAM:   RAM LONG @4800-48FF
AMEXIT:   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!PROGRAM ALPHARAMWRITE @204C00 = 0WRITE @2057FF = 11WAITLOOP:   READ @REGF   IF REGE = B0 GOTO WAITLOOP   IF REGE = B1 GOTO WAITLOOP   IF REGE = B2 GOTO W
ITLOOP   IF REGE = F0 GOTO BADRAM   IF REGE = F1 GOTO BADRAM   IF REGE = F2 GOTO BADRAMGOODRAM:   DPY-#ALPHA RAM OK   EX DELAY   GOTO RAMEXITBADRAM:   RAM LONG @4C00-57FFRAMEXIT:        !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!!!!!!!!!!!!!!!!!!!!!PROGRAM SOUNDRAMWRITE @208000 = 0WRITE @2083BF = 11WAITLOOP:   READ @REGF   IF REGE = B0 GOTO WAITLOOP   IF REGE = B1 GOTO WAITLOOP   IF REGE = B2 GOTO WAITLOOP   IF REGE = F0 GOTO BADRAM   IF REGE = F1 GOTO BADRAM   I
